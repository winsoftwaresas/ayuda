<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

    {% include head.html %}

    <body>

    {% if page.hero %}
        {% include hero.html %}
    {% else %}
      {% if page.layout != 'doc' %}
          {% include navbar.html %}
        {% else %}
          {% include navbar-docs.html %}
      {% endif %}
    {% endif %}

    {{ content }}

    {% include offcanvas-docs.html %}

    {% include offcanvas.html %}

    {% if page.layout != 'doc' %}
        {% include footer.html %}
    {% endif %}

    {% if page.layout == 'doc' %}
        {% include hook-pre-closing-body-doc.html %}
    {% endif %}

    {% include hook-pre-closing-body.html %}

    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
          if (!user) {
            window.netlifyIdentity.on("login", () => {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>

    <script>

      // Nueva inicialización manual del Switcher
      // Seleccionamos el elemento que tiene la clase 'uk-switcher'
      const switcherElement = document.querySelector('.uk-switcher');

      // Inicializamos el componente si el elemento existe
      if (switcherElement) {
          UIkit.switcher(switcherElement, {
              // Opcional: Define aquí las opciones, por ejemplo, la animación
              animation: 'uk-animation-fade' 
          });
      }
    </script>

    {% include sidebar-scroll-position.html %}

    </body>

</html>
